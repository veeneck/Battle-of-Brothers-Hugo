


<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
	<title>Battle of Brothers | A Video Game Programming Duel</title>
	<meta name="description" content="Follow Chris and Ryan as they design indie video game software using the Corona SDK and Sprite Kit frameworks in this game programming duel.">
	<meta name="keywords" content=“video,game,programming,software, design, corona, sprite kit, indie”>
	<meta name="author" content="Battle of Brothers">
	<meta name="robots" content="index, follow">
	<meta name="viewport" content="width=1024"/>

  




   	 <link rel="stylesheet" href="/css/chris.css?v=1'; ?>" type="text/css" media="screen" />
    <link rel="stylesheet" href="/css/global.css" type="text/css" media="screen" />



  <link rel="stylesheet" href="/css/post.css?v=1'; ?>" type="text/css" media="screen" />


  
</head>
  <body class="home gradient">

  	<div id="leftChecker"></div>

  	

<div class="top">
	<p class="breadcrumb">
		Currently following
		
		<a href="/sirchris" title="Hurrah!" class="dotted">Sir Chris</a> 
		<a href="/sirryan" title="To see what the losing team is up to." class="switch floatright sirchris">See what Sir Ryan is up to &#8611;</a>
		
	</p>
</div>



  	



<header class="content">
	<a class="ryanshield rotate " href="/sirryan">
		<img class="" style="" src="/assets/RyanShield.png" />
	</a>

	
	<a class="mainshield" href="/">
		<img alt="The one year game develpoment duel" src="/assets/Banner.png" width="266px" class="" />
	</a>
	

	<a class="chrisshield counterrotate" href="/sirchris">
		<img style="" src="/assets/ChrisShield.png" />
	</a>

</header> 

  	
<nav>
	
		<div class="container clear blog">
	
  		<div class="leftnav clear">
  			<span>
	  			<a href="/sirchris" class="blog clear">
	  				<img class="" src="/assets/Castle.png" width="16px" />Sir Ryan
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/timeline" class="timeline clear">
	  				<img class="" src="/assets/Boom.png" width="16px"  />Timeline
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/budget" class="budget clear">
	  				<img class="" src="/assets/Money-5.png" width="16px"  />Budget
	  			</a>
  			</span>
		</div>
		<div class="rightnav clear">
			<span>
	  			<a href="/sirchris/contact" class="contact clear">
	  				<img class="" src="/assets/Game-Controller.png" width="16px"  />Contact
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/subscribe" class="subscribe clear">
	  				<img class="" src="/assets/RSS.png" width="16px"  />Subscribe
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/about" class="about clear">
	  				<img class="" src="/assets/Pacman-2.png" width="16px"  />About
	  			</a>
  			</span>
		</div>
	</div>
</nav>


    

	<div class="outercontent">
  	  <div class="content clear">

		<article class="clear">
			<div class="title clear">
				<div class="floatleft">
					<span class="month legacy">May</span> 
					<p class="shield legacy" style="background-image:url('/assets/Shield7.png')">27</p>
					<span class="year legacy">2014</span> 
				</div>
				<h3 class="grace">A Little Perspective</h3>
				<div class="subhead">
					<span class="comments floatright">
						<img class="icon" src="/assets/Chat-6.png" width="16px" />
						<small><a href="/" class="dotted">X Comments</a></small>
					</span>
					<img class="icon" src="/assets/Tag-star.png" width="16px">
					<small>
						
						<a href="" class="dotted">status</a>
						
					</small>
				</div>
			</div>

			<div class="post source_light">				
 				<p>I was really excited after the last update because I felt like the foundation of my code was relatively solid and the core game mechanics were working. With that core work out of the way, I was free to focus on polishing what I had built and thinking about what type of game I ultimately want to build. In the last 2 weeks I was able to fix a bunch of bugs, add obstacles, add art, and switch the camera point of view. Add all of those together and you get a game that&#8217;s starting to look pretty sweet in my unbiased opinion.
</p>

<p>I&#8217;m going to start out with the most exciting part of this update and that is my decision to switch from an orthographic point of view to an isometric point of view. What that basically means is the game will look less flat and more 3D because of how the tiles and artwork are drawn. Visually, what that means is that my game went from this</p>

<div class="inlineimg">
  <img src="http://localhost:8888/wp-content/uploads/2014/05/Screen-Shot-2014-05-21-at-2.39.51-PM-1.png" alt="Screen Shot 2014-05-21 at 2.39.51 PM" width="764" height="574" class="alignnone size-full wp-image-569" />
</div>

<p>to this</p>

<div class="inlineimg">
  <img src="http://localhost:8888/wp-content/uploads/2014/05/Screen-Shot-2014-05-21-at-2.38.07-PM-1.png" alt="Screen Shot 2014-05-21 at 2.38.07 PM" width="768" height="574" class="alignnone size-full wp-image-570" srcset="http://localhost:8888/wp-content/uploads/2014/05/Screen-Shot-2014-05-21-at-2.38.07-PM-1.png 1025w, http://localhost:8888/wp-content/uploads/2014/05/Screen-Shot-2014-05-21-at-2.38.07-PM-1-300x224.png 300w, http://localhost:8888/wp-content/uploads/2014/05/Screen-Shot-2014-05-21-at-2.38.07-PM-1-768x573.png 768w, http://localhost:8888/wp-content/uploads/2014/05/Screen-Shot-2014-05-21-at-2.38.07-PM-1-1024x764.png 1024w" sizes="(max-width: 768px) 100vw, 768px" />
</div>

<p>Successful games have been <a href="http://battleofbrothers.com/sirchris/common-turn-based-game-projection-techniques">made from both viewpoints</a>, but I like the isometric viewpoint a lot more. After I switched to the new viewpoint, I found some cheap artwork over at the Unity asset store and added some ground tiles, trees, rocks, and a couple of buildings. So now the game in its current state looks like:</p>

<div class="inlineimg">
  <img src="http://localhost:8888/wp-content/uploads/2014/05/Screen-Shot-2014-05-23-at-9.21.30-AM-1.png" alt="Screen Shot 2014-05-23 at 9.21.30 AM" width="769" height="502" class="alignnone size-full wp-image-571" srcset="http://localhost:8888/wp-content/uploads/2014/05/Screen-Shot-2014-05-23-at-9.21.30-AM-1.png 961w, http://localhost:8888/wp-content/uploads/2014/05/Screen-Shot-2014-05-23-at-9.21.30-AM-1-300x196.png 300w, http://localhost:8888/wp-content/uploads/2014/05/Screen-Shot-2014-05-23-at-9.21.30-AM-1-768x502.png 768w" sizes="(max-width: 769px) 100vw, 769px" />
</div>

<p>The switch really wasn&#8217;t as difficult as I thought it would be and the only real programmatic hurdle was in calculating pixel location-based on grid location and vice versa. Once that was fixed, then object placement, pathfinding, and movement all fell into place.</p>

<p>In addition to the point of view switch, some noteworthy fixes were:</p>

<p><strong>Objects Take up Space</strong></p>

<p>Image objects, like trees, houses, rocks, and characters themselves now &#8220;take up space&#8221;. This is important because now when characters move, they cannot walk over areas that are occupied. The pathfinding algorithm now recognizes which spaces are occupied and characters are routed around occupied spaces when they move.</p>

<p><strong>Objects are Indexed for Depth</strong></p>

<p>In Corona, images do not have a Z-index variable and they are drawn to the screen in the order that they&#8217;re called. So if I drew a square to the screen and then a circle to the same location, the square would appear to be beneath the circle. This is a problem because if I have a Knight originally behind a tree and that Knight then moves in front of the tree, he will still appear to be behind the tree. What I have to do is re-draw every image on every frame. On each frame, the images are sorted by their Y position so that the image highest on the screen is drawn first and the image lowest on the screen is drawn last.</p>

<p><strong>Maps are Loaded Programmatically</strong></p>

<p>I previously drew map tiles by hard coding a fixed number of columns. That was fine when all the tiles were exactly the same, but it was time to get more efficient with the addition of obstacles. I now load the maps in from a JSON file that represents terrain obstacles as numeric values.</p>

<p><strong>Added Custom Event Handlers</strong></p>

<p>This last point gets a little nerdy, but it&#8217;s a critical part of game development. Basically, when some events, like the death of a character happen, specific pieces of code need to be executed. By setting up <a href="http://coronalabs.com/blog/2012/06/26/how-to-use-custom-events-in-corona/">custom events</a>, code objects that are &#8220;listening&#8221; for certain events then handle any necessary code.</p>

<h4 id="next-2-weeks">Next 2 Weeks</h4>

<p>Besides cleaning up my code, which seems to be a very common task in game development, some of the tasks which I hope to accomplish are adding multiple directions for characters (so they face where they&#8217;re walking), cleaning up movement and attack animations, adding death animations, and testing some new game mechanics I&#8217;ve been brainstorming. I&#8217;m pumped about getting back to work after a long Memorial Day weekend, because I think this thing is really starting to take shape.</p>
			</div>

		</article>

		<h2>Comments</h2>
			<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "battle-of-brothers" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

	</div>
</div>

    
    <footer class="clear">

  	<div class="bob">
  		<img src="/assets/battleofbrothers.png" />
  	</div>

  	<div style="display:table;">
		<div class="footer_content">
		  	<div class="corner cell">
		  		<p>&nbsp</p>
	  			<img class="ryanfoot" src="/assets/RyanShieldLarge.png" />
	  		</div>
			<div class="about_contest cell">
				<div class="inner">
					<h5>$25,000. 2 brothers. 1 year. 0 experience.</h5>
					<p>Armed with little to no game development experience, we're setting out to see who can make the best game. 
					In the spirit of learning and following a passion, we're each going to take one year and a $25,000 budget to see how far we can get. 
					It begins on April 7th, 2014. We'll be documenting the journey.</p>
					<p><a href="/">Learn More!</a></p>
				</div>
			</div>
			<div class="links cell">
				<div class="outer">
					<h5>Sir Ryan</h5>
					<p>
					<a class="ryan" href="/sirryan/">Blog</a> /&nbsp; 
					<a class="ryan" href="/sirryan/budget">Budget</a> /&nbsp; 
					<a class="ryan" href="/sirryan/timeline">Timeline</a><span class="social">C</span>
					<a class="white" href="https://twitter.com/veeneck">@veeneck</a></br>
					<a class="ryan" href="/sirryan/contact">Contact</a> /&nbsp; 
					<a class="ryan" href="/sirryan/about">About</a> /&nbsp; 
					<a class="ryan" href="/category/sirryan">Archive</a>
					<span class="social rss">V</span><a class="white" href="http://feeds.feedburner.com/SirRyan">RSS Feed</a></br>
					</p>
					<h5>Sir Chris</h5>
					<p>
					<a class="chris" href="/sirchris/">Blog</a> /&nbsp; 
					<a class="chris" href="/sirchris/budget">Budget</a> /&nbsp; 
					<a class="chris" href="/sirchris/timeline">Timeline</a>
					<span class="social">C</span><a class="white" href="https://twitter.com/codepaladin">@codepaladin</a></br>
					<a class="chris" href="/sirchris/contact">Contact</a> /&nbsp; 
					<a class="chris" href="/sirchris/about">About</a> /&nbsp; 
					<a class="chris" href="/category/sirchris">Archive</a><span class="social rss">V</span>
					<a class="white" href="http://feeds.feedburner.com/SirChris">RSS Feed</a></br></p>
				</div>
			</div>
			<div class="corner cell">
				<p>&nbsp</p>
				<img class="chrisfoot" src="/assets/ChrisShieldLarge.png" />
			</div>
		</div>
	</div>
</footer>
  </body>
</html>