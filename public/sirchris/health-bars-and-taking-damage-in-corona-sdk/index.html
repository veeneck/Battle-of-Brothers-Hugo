


<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
	<title>Battle of Brothers | A Video Game Programming Duel</title>
	<meta name="description" content="Follow Chris and Ryan as they design indie video game software using the Corona SDK and Sprite Kit frameworks in this game programming duel.">
	<meta name="keywords" content=“video,game,programming,software, design, corona, sprite kit, indie”>
	<meta name="author" content="Battle of Brothers">
	<meta name="robots" content="index, follow">
	<meta name="viewport" content="width=1024"/>

  




   	 <link rel="stylesheet" href="/css/chris.css?v=1'; ?>" type="text/css" media="screen" />
    <link rel="stylesheet" href="/css/global.css" type="text/css" media="screen" />



  <link rel="stylesheet" href="/css/post.css?v=1'; ?>" type="text/css" media="screen" />


<script src="/js/index-min.js"></script>

  
</head>
  <body class="home gradient">

  	<div id="leftChecker"></div>

  	

<div class="top">
	<p class="breadcrumb">
		Currently following
		
		<a href="/sirchris" title="Hurrah!" class="dotted">Sir Chris</a> 
		<a href="/sirryan" title="To see what the losing team is up to." class="switch floatright sirchris">See what Sir Ryan is up to &#8611;</a>
		
	</p>
</div>



  	



<header class="content">
	<a class="ryanshield rotate " href="/sirryan">
		<img class="" style="" src="/assets/RyanShield.png" />
	</a>

	
	<a class="mainshield" href="/">
		<img alt="The one year game develpoment duel" src="/assets/Banner.png" width="266px" class="" />
	</a>
	

	<a class="chrisshield counterrotate" href="/sirchris">
		<img style="" src="/assets/ChrisShield.png" />
	</a>

</header> 

  	
<nav>
	
		<div class="container clear blog">
	
  		<div class="leftnav clear">
  			<span>
	  			<a href="/sirchris" class="blog clear">
	  				<img class="" src="/assets/Castle.png" width="16px" />Sir Ryan
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/timeline" class="timeline clear">
	  				<img class="" src="/assets/Boom.png" width="16px"  />Timeline
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/budget" class="budget clear">
	  				<img class="" src="/assets/Money-5.png" width="16px"  />Budget
	  			</a>
  			</span>
		</div>
		<div class="rightnav clear">
			<span>
	  			<a href="/sirchris/contact" class="contact clear">
	  				<img class="" src="/assets/Game-Controller.png" width="16px"  />Contact
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/subscribe" class="subscribe clear">
	  				<img class="" src="/assets/RSS.png" width="16px"  />Subscribe
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/about" class="about clear">
	  				<img class="" src="/assets/Pacman-2.png" width="16px"  />About
	  			</a>
  			</span>
		</div>
	</div>
</nav>


    <div class="outercontent">
  	  <div class="content clear">

		<article class="clear">
			<div class="title clear">
				
<div class="floatleft timestamp">
	<span class="month">Jun</span>
	<p class="shield" style="background-image:url('/assets/Shield10.png')">24</p>
	<span class="year legacy">2014</span>
</div>
				<h3 class="grace">Health Bars and Taking Damage in Corona SDK</h3>
				<div class="subhead">
					



	
	
		
	


<span class="comments floatright">
	<img class="icon" src="/assets/Chat-6.png" width="16px" />
	<small><a href="/sirchris/health-bars-and-taking-damage-in-corona-sdk/#comments" class="dotted"><span></span>3 comments</a></small>
</span>
<img class="icon" src="/assets/Tag-star.png" width="16px">
<small>
	
	<a href="" class="dotted">code</a>
	
	<a href="" class="dotted">corona</a>
	
	<a href="" class="dotted">learning</a>
	
	<a href="" class="dotted">lua</a>
	
</small>
				</div>
			</div>

			

			
				
			
				
			
				
			
				
			

			<div class="post source_light">		
				
 				<p>It&#8217;s common to see <a href="http://battleofbrothers.com/sirchris/health-display-roundup">health bars attached to a characters</a> in video games, and in this tutorial I explain how that can easily be accomplished in Corona SDK. And as an added bonus, the health bar also updates as the character takes damage.
</p>

<div class="inlineimg">
  <img src="http://battleofbrothers.com/wp-content/uploads/2014/06/dwarf-healthbar.jpg" alt="dwarf-healthbar" width="547" height="249" class="alignnone size-full wp-image-632" />
</div>

<p><a href="https://gist.github.com/codepaladin/7d7afd56df17468abd24">https://gist.github.com/codepaladin/7d7afd56df17468abd24</a></p>

<p>The first thing we do is create a new display group called characterGroup. Think of display groups as containers that hold different objects, like images, shapes, and text. The reason we need a display group in this example is because we will have three objects, a character, a health bar, and a damage bar, all which need to move in unison as the character moves across the screen.</p>

<p>After we have the character group created and centered on the screen, a dwarf image is added to the group. You&#8217;ll also see maxHealth and currentHealth variables, which will be used for our health bars.</p>

<p><a href="https://gist.github.com/codepaladin/72b438209eebe018511d">https://gist.github.com/codepaladin/72b438209eebe018511d</a></p>

<p>Here we draw the health bar to the screen as a green rectangle. The width is set to maxHealth, which conveniently makes the health bar 100 pixels wide. Then we draw a red rectangle called damageBar directly on top of the green health bar. The damage bar is 0 pixels wide to start, because our character is at full health. Note that it&#8217;s important to draw the damage bar second, because Corona z-indexes images to the screen in the order they&#8217;re drawn.</p>

<p>The health bar and the damage bar are added to the characterGroup so that they are in the same container as the dwarf image.</p>

<p><a href="https://gist.github.com/codepaladin/3d554c91ee65fbd27fdb">https://gist.github.com/codepaladin/3d554c91ee65fbd27fdb</a></p>

<p>The moveLeft and moveRight functions move the character, health bar, and damage bar 100 pixels to the left and then to the right. Notice that in the transition.to() function, the characterGroup is what&#8217;s being moved. We move the group and not the individual objects, because moving a group also moves the objects inside of a group.</p>

<p>If you look at the moveRight() function, you&#8217;ll see that damageCharacter() is called, which then subtracts the damage taken from the character&#8217;s maxHealth. The updateDamageBar() function is then called so that the red damage bar&#8217;s width is increased in order to show how much health remains.</p>

<p>The complete source code to this tutorial can be found on <a href="https://github.com/codepaladin/Health-Bar-Tutorial">GitHub</a></p>
			</div>

		</article>

	</div>
</div>

<div class="outercontentalt">
  	<div class="content clear">

  		<div id="discuss" class="discuss">
			<img class="" src="/assets/discuss.png" />
		</div>

	  
	  
	  
	  	
	  	
		    <h5 class="grace comment-count"><span class="legacy">3</span> of you did not hold your tongue!</h5>
			<ol id="comments" class="commentlist">
		  		
		    		

		    			


<li >
	<div class="comment-body">
		<div class="comment-author vcard">
			<img src="https://www.gravatar.com/avatar/?s=118&d=http://battleofbrothers.com/assets/comment_av_5.png" alt="" class="avatar avatar-64 photo" height="118" width="118">
		</div>
		<div class="comment-wrapper">
			
				<p>[&amp;#8230;] Wow, can&amp;#8217;t believe its the end of 2014 already, check out the video below to see the latest version of the game, including fixing scaling issues(Thanks Alan from QuizTix), improved A.I. and adding in health bar (Thanks to battleofbrothers.com) [&amp;#8230;]</p>
			
		</div>
		<div class="comment-meta commentmetadata">
			<a href="#">#</a> by 
			<cite class="fn">
				
				    Last post of 2014! | Ninja Manga Game
				
			</cite> Dec 28, 2014
		</div>
		<div class="reply">
			<a id="494" class="btn-info comment-reply-link" href="#comment-form" onclick="changeValue('fields[reply_to]', '494')">Reply</a>
		</div>
	</div>
</li>

<ul class="children">

  

  

  

</ul> 

		    		
		  		
		    		

		    			


<li >
	<div class="comment-body">
		<div class="comment-author vcard">
			<img src="https://www.gravatar.com/avatar/940cffe61588a76d79f2aedf6507aa84?s=118&d=http://battleofbrothers.com/assets/comment_av_6.png" alt="" class="avatar avatar-64 photo" height="118" width="118">
		</div>
		<div class="comment-wrapper">
			
				<p>so, is this code available for everyone to use?</p>
			
		</div>
		<div class="comment-meta commentmetadata">
			<a href="#">#</a> by 
			<cite class="fn">
				
				    Mario Landa
				
			</cite> Jul 16, 2015
		</div>
		<div class="reply">
			<a id="509" class="btn-info comment-reply-link" href="#comment-form" onclick="changeValue('fields[reply_to]', '509')">Reply</a>
		</div>
	</div>
</li>

<ul class="children">

  

  

  

</ul> 

		    		
		  		
		    		

		    			


<li >
	<div class="comment-body">
		<div class="comment-author vcard">
			<img src="https://www.gravatar.com/avatar/9a0284816a09ae650989ad2237d37d76?s=118&d=http://battleofbrothers.com/assets/comment_av_12.png" alt="" class="avatar avatar-64 photo" height="118" width="118">
		</div>
		<div class="comment-wrapper">
			
				<p>Absolutely!</p>
			
		</div>
		<div class="comment-meta commentmetadata">
			<a href="#">#</a> by 
			<cite class="fn">
				
				    Chris Campbell
				
			</cite> Jul 28, 2015
		</div>
		<div class="reply">
			<a id="521" class="btn-info comment-reply-link" href="#comment-form" onclick="changeValue('fields[reply_to]', '521')">Reply</a>
		</div>
	</div>
</li>

<ul class="children">

  

  

  

</ul> 

		    		
		  		     
		  	</ol>  
		 

		 <hr />
	  
 
	  <div class="comment-form">
  <div id="respond" class="comment-respond">
    <h3 id="reply-title" class="comment-reply-title">Speak Freely <small></h3>     

    <form class="comment-form" method="POST" action="https://api.staticman.net/v2/entry/veeneck/Battle-of-Brothers-Hugo/master/comments">
        <p class="comment-notes">
          <span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span>
        </p>
          <p class="comment-form-comment">
            <label for="comment">Comment</label> 
            <textarea id="comment" name="fields[body]" class="post-comment-field" placeholder="Your message. Feel free to use Markdown." cols="45" rows="8" maxlength="65525" required="required"></textarea>
          </p>
          <p class="comment-form-author">
            <label for="author">Name <span class="required">*</span></label> 
            <input id="author" name="fields[name]" type="text" class="post-comment-field" placeholder="Your name" required="required" size="30" maxlength="245">
          </p>
          <p class="comment-form-email">
            <label for="email">Email</label> 
            <input id="email" name="fields[email]" type="email" class="post-comment-field" placeholder="Your email address" ize="30" maxlength="100">
          </p>
          <p class="comment-form-url">
            <label for="website">Website</label> 
            <input id="website" name="fields[website]" type="url" class="post-comment-field" placeholder="http://yoursite.com" ize="30" maxlength="200">
          </p>
          <p class="form-submit">
            <input type="submit" id="submit" class="post-comment-field btn submit" value="Submit" id="submit_button" value="Post Comment">
            <input type="hidden" name="options[redirect]" value="http://battleofbrothers.com/sirchris/health-bars-and-taking-damage-in-corona-sdk/#post-submitted">
            <input type="hidden" name="options[redirectError]" value="http://battleofbrothers.com/sirchris/health-bars-and-taking-damage-in-corona-sdk/#post-error">
            <input type="hidden" name="options[entryId]" value="2014-06-24-health-bars-and-taking-damage-in-corona-sdk">
            <input type="hidden" name="options[slug]" value="http://battleofbrothers.com/sirchris/health-bars-and-taking-damage-in-corona-sdk/">
            <input type="hidden" name="options[origin]" value="http://battleofbrothers.com/sirchris/health-bars-and-taking-damage-in-corona-sdk/">
            <input type="hidden" name="options[parent]" value="2014-06-24-health-bars-and-taking-damage-in-corona-sdk">
            <input type="hidden" name="fields[reply_to]" value="">
          </p>      
      </form>
    </div>

    <div id="post-submitted">
      <hr style="margin-bottom: 50px;" />
      <h3 class="comment-reply-title">Thank you</h3>
        <p>Your comment will be published once it has been approved.</p>
        <p><a class="comment-reply-link" href="https://github.com/veeneck/Battle-of-Brothers-Hugo/pulls">Click here</a> to see the pull request you generated.</p>
    </div>
</div>
     </div>
</div> 

    
    <footer class="clear">

  	<div class="bob">
  		<img src="/assets/battleofbrothers.png" />
  	</div>

  	<div style="display:table;">
		<div class="footer_content">
		  	<div class="corner cell">
		  		<p>&nbsp</p>
	  			<img class="ryanfoot" src="/assets/RyanShieldLarge.png" />
	  		</div>
			<div class="about_contest cell">
				<div class="inner">
					<h5>$25,000. 2 brothers. 1 year. 0 experience.</h5>
					<p>Armed with little to no game development experience, we're setting out to see who can make the best game. 
					In the spirit of learning and following a passion, we're each going to take one year and a $25,000 budget to see how far we can get. 
					It begins on April 7th, 2014. We'll be documenting the journey.</p>
					<p><a href="/">Learn More!</a></p>
				</div>
			</div>
			<div class="links cell">
				<div class="outer">
					<h5>Sir Ryan</h5>
					<p>
					<a class="ryan" href="/sirryan/">Blog</a> /&nbsp; 
					<a class="ryan" href="/sirryan/budget">Budget</a> /&nbsp; 
					<a class="ryan" href="/sirryan/timeline">Timeline</a><span class="social">C</span>
					<a class="white" href="https://twitter.com/veeneck">@veeneck</a></br>
					<a class="ryan" href="/sirryan/contact">Contact</a> /&nbsp; 
					<a class="ryan" href="/sirryan/about">About</a> /&nbsp; 
					<a class="ryan" href="/category/sirryan">Archive</a>
					<span class="social rss">V</span><a class="white" href="http://feeds.feedburner.com/SirRyan">RSS Feed</a></br>
					</p>
					<h5>Sir Chris</h5>
					<p>
					<a class="chris" href="/sirchris/">Blog</a> /&nbsp; 
					<a class="chris" href="/sirchris/budget">Budget</a> /&nbsp; 
					<a class="chris" href="/sirchris/timeline">Timeline</a>
					<span class="social">C</span><a class="white" href="https://twitter.com/codepaladin">@codepaladin</a></br>
					<a class="chris" href="/sirchris/contact">Contact</a> /&nbsp; 
					<a class="chris" href="/sirchris/about">About</a> /&nbsp; 
					<a class="chris" href="/category/sirchris">Archive</a><span class="social rss">V</span>
					<a class="white" href="http://feeds.feedburner.com/SirChris">RSS Feed</a></br></p>
				</div>
			</div>
			<div class="corner cell">
				<p>&nbsp</p>
				<img class="chrisfoot" src="/assets/ChrisShieldLarge.png" />
			</div>
		</div>
	</div>
</footer>
  </body>
</html>