


<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
	<title>Battle of Brothers | A Video Game Programming Duel</title>
	<meta name="description" content="Follow Chris and Ryan as they design indie video game software using the Corona SDK and Sprite Kit frameworks in this game programming duel.">
	<meta name="keywords" content=“video,game,programming,software, design, corona, sprite kit, indie”>
	<meta name="author" content="Battle of Brothers">
	<meta name="robots" content="index, follow">
	<meta name="viewport" content="width=1024"/>

  




   	 <link rel="stylesheet" href="/css/chris.css?v=1'; ?>" type="text/css" media="screen" />
    <link rel="stylesheet" href="/css/global.css" type="text/css" media="screen" />



  <link rel="stylesheet" href="/css/post.css?v=1'; ?>" type="text/css" media="screen" />


<script src="/js/index-min.js"></script>

  

  
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-18183842-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-18183842-5');
</script>
</head>
  <body class="home gradient">

    

  	

<div class="top">
	<div class="breadcrumb">
		<p>Currently following
		
		<a href="/sirchris" title="Hurrah!" class="dotted">Sir Chris</a></p> 
		<p><a href="/sirryan" title="To see what the losing team is up to." class="switch ryan">See what Sir Ryan is up to &#8611;</a></p>
		
	</div>
</div>



  	



<header class="content">
	<a class="ryanshield rotate " href="/sirryan">
		<img class="" style="" src="/assets/RyanShield.png" />
	</a>

	
	<a class="mainshield" href="/">
		<img alt="The one year game develpoment duel" src="/assets/Banner.png" width="266px" class="" />
	</a>
	

	<a class="chrisshield counterrotate" href="/sirchris">
		<img style="" src="/assets/ChrisShield.png" />
	</a>

</header> 

  	
<nav>
	
		<div class="navcontainer clear blog">
	
  		<div class="clear">
  			<span>
	  			<a href="/sirchris" class="blog clear">
	  				<img class="" src="/assets/Castle.png" width="16px" />Sir Ryan
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/timeline" class="timeline clear">
	  				<img class="" src="/assets/Boom.png" width="16px"  />Timeline
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/budget" class="budget clear">
	  				<img class="" src="/assets/Money-5.png" width="16px"  />Budget
	  			</a>
  			</span>
		</div>
		<div class="navspacer">&nbsp;</div>
		<div class="clear">
			<span>
	  			<a href="/sirchris/contact" class="contact clear">
	  				<img class="" src="/assets/Game-Controller.png" width="16px"  />Contact
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/subscribe" class="subscribe clear">
	  				<img class="" src="/assets/RSS.png" width="16px"  />Subscribe
	  			</a>
  			</span>
			<span>
	  			<a href="/sirchris/about" class="about clear">
	  				<img class="" src="/assets/Pacman-2.png" width="16px"  />About
	  			</a>
  			</span>
		</div>
	</div>
</nav>


    <div class="outercontent">
  	  <div class="content clear">

		<article class="clear">
			<div class="title clear">
				
<div class="floatleft timestamp">
	<span class="month">Apr</span>
	<p class="shield" style="background-image:url('/assets/Shield9.png')">10</p>
	<span class="year legacy">2014</span>
</div>
				<h3 class="grace">Animating Sprites from a Texture Packer Image</h3>
				<div class="subhead">
					



	
	
		
	


<span class="comments floatright">
	<img class="icon" src="/assets/Chat-6.png" width="16px" />
	<small><a href="/sirchris/animating-sprites-from-a-texture-packer-image/#comments" class="dotted"><span></span>2 comments</a></small>
</span>
<img class="icon" src="/assets/Tag-star.png" width="16px">
<small>
	
	<a href="/sirchris/tags/code" class="dotted">code</a>
	
	<a href="/sirchris/tags/corona" class="dotted">corona</a>
	
	<a href="/sirchris/tags/learning" class="dotted">learning</a>
	
</small>
				</div>
			</div>

			

			
				
			
				
			
				
			

			<div class="post source_light">		
				
 				<p>I&#8217;ve been experimenting with animation and recently ran into a little trouble with spritesheets, <a href="http://www.codeandweb.com/texturepacker">TexturePacker</a>, <a href="http://coronalabs.com/products/corona-sdk/">Corona SDK</a> and animation. The problem started when I wanted to animate <a href="http://opengameart.org/content/700-sprites">some sprites</a> from opengameart.org. The download included 89 animation sequences and each animation contained 8 individual character sprites, which looked like:
</p>

<div class="inlineimg">
  <img class="wp-image-266 alignnone" alt="amg1" src="/wp-content/uploads/2014/04/amg.png" width="256" height="32" />
</div>

<p>Instead of including 89 .png files into my project, I used TexturePacker to condense them into one .png file. That made the spritesheet look something like:</p>

<div class="inlineimg">
  <img class="alignnone size-full wp-image-268" alt="test1_Corona SDK-0" src="/wp-content/uploads/2014/04/test1_Corona-SDK-01.png" width="256" height="100" />
</div>

<p>I ran into trouble because I was able load an animation sequence as a single image, but I had trouble splitting that sequence into the individual 8 frames required for animation. Here&#8217;s what I came up with to solve the issue.</p>

<p><a href="https://gist.github.com/codepaladin/10392771">https://gist.github.com/codepaladin/10392771</a></p>

<p>What we&#8217;re doing here is loading the spritesheet.lua file, which references the spritesheet.png file. Once we have the spritesheet information, we create an options table associated with one specific animation sequence, which is called amg1 in our example.</p>

<p>We then add width and numFrames variables to the options table so that Corona knows that the animation sequence contains 8 single frames, and each sprite frame is of equal size.</p>

<p>Finally, we generate an <a href="http://docs.coronalabs.com/api/library/graphics/newImageSheet.html">imageSheet object</a> by passing in the spritesheet.png file and the options table.</p>

<p>Here we create a <a href="https://docs.coronalabs.com/api/library/display/newSprite.html#sequence-data">sequenceData</a> table to store information on our animation&#8217;s name, which frame it should start on, how many frames should run, and how long each frame should run.</p>

<p>We then build the <a href="https://docs.coronalabs.com/api/library/display/newSprite.html">sprite object</a> by passing the imageSheet and sequenceData info. Finally, we run the animation, which results in something like:</p>

<div class="inlineimg">
  <img class="alignnone size-full wp-image-276" alt="825wp" src="/wp-content/uploads/2014/04/825wp.gif" width="32" height="32" />
</div>

<p>You can <a href="https://github.com/codepaladin/SpriteSheet">download the files</a> that I used for this on Github.</p>
			</div>

		</article>

	</div>
</div>

<div class="outercontentalt">
  	<div class="content clear">

  		<div id="discuss" class="discuss">
			<img class="" src="/assets/discuss.png" />
		</div>

	  
	  
	  
	  	
	  	
		    <h5 class="grace comment-count"><span class="legacy">2</span> of you did not hold your tongue!</h5>
			<ol id="comments" class="commentlist">
		  		
		    		

		    			


<li >
	<div class="comment-body">
		<div class="comment-author vcard">
			<img src="https://www.gravatar.com/avatar/ec82f5c6345fff00389558f84e2b7c1a?s=118&d=http://battleofbrothers.com/assets/comment_av_12.png" alt="" class="avatar avatar-64 photo" height="118" width="118">
		</div>
		<div class="comment-wrapper">
			
				<p>very interesting thanks for sharing :)</p>
			
		</div>
		<div class="comment-meta commentmetadata">
			<a href="#">#</a> by 
			<cite class="fn">
				
				    Bocar
				
			</cite> Apr 11, 2014
		</div>
		<div class="reply">
			<a id="338" class="btn-info comment-reply-link" href="#comment-form" onclick="changeValue('fields[reply_to]', '338')">Reply</a>
		</div>
	</div>
</li>

<ul class="children">

  

  

</ul> 

		    		
		  		
		    		

		    			


<li >
	<div class="comment-body">
		<div class="comment-author vcard">
			<img src="https://www.gravatar.com/avatar/?s=118&d=http://battleofbrothers.com/assets/comment_av_10.png" alt="" class="avatar avatar-64 photo" height="118" width="118">
		</div>
		<div class="comment-wrapper">
			
				<p>[&amp;#8230;] Animating a character took longer than it should have because I didn&amp;#8217;t understand exactly how Corona and TexturePacker worked together. After makings things more confusing than they should have been, I did end up with a pretty sweet [&amp;#8230;]</p>
			
		</div>
		<div class="comment-meta commentmetadata">
			<a href="#">#</a> by 
			<cite class="fn">
				
				    Battle of Brothers | A Video Game Programming Duel
				
			</cite> Apr 14, 2014
		</div>
		<div class="reply">
			<a id="341" class="btn-info comment-reply-link" href="#comment-form" onclick="changeValue('fields[reply_to]', '341')">Reply</a>
		</div>
	</div>
</li>

<ul class="children">

  

  

</ul> 

		    		
		  		     
		  	</ol>  
		 

		 <hr />
	  
 
	  <div class="comment-form">
  <div id="respond" class="comment-respond">
    <h3 id="reply-title" class="comment-reply-title">Speak Freely <small></h3>     

    <form class="comment-form" method="POST" action="https://api.staticman.net/v2/entry/veeneck/Battle-of-Brothers-Hugo/master/comments">
        <p class="comment-notes">
          <span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span>
        </p>
          <p class="comment-form-comment">
            <label for="comment">Comment</label> 
            <textarea id="comment" name="fields[body]" class="post-comment-field" placeholder="Your message. Feel free to use Markdown." cols="45" rows="8" maxlength="65525" required="required"></textarea>
          </p>
          <p class="comment-form-author">
            <label for="author">Name <span class="required">*</span></label> 
            <input id="author" name="fields[name]" type="text" class="post-comment-field" placeholder="Your name" required="required" size="30" maxlength="245">
          </p>
          <p class="comment-form-email">
            <label for="email">Email</label> 
            <input id="email" name="fields[email]" type="email" class="post-comment-field" placeholder="Your email address" ize="30" maxlength="100">
          </p>
          <p class="comment-form-url">
            <label for="website">Website</label> 
            <input id="website" name="fields[website]" type="url" class="post-comment-field" placeholder="http://yoursite.com" ize="30" maxlength="200">
          </p>
          <p class="form-submit">
            <input type="submit" id="submit" class="post-comment-field btn submit" value="Submit" id="submit_button" value="Post Comment">
            <input type="hidden" name="options[redirect]" value="http://battleofbrothers.com/sirchris/animating-sprites-from-a-texture-packer-image/#post-submitted">
            <input type="hidden" name="options[redirectError]" value="http://battleofbrothers.com/sirchris/animating-sprites-from-a-texture-packer-image/#post-error">
            <input type="hidden" name="options[entryId]" value="2014-04-10-animating-sprites-from-a-texture-packer-image">
            <input type="hidden" name="options[slug]" value="http://battleofbrothers.com/sirchris/animating-sprites-from-a-texture-packer-image/">
            <input type="hidden" name="options[origin]" value="http://battleofbrothers.com/sirchris/animating-sprites-from-a-texture-packer-image/">
            <input type="hidden" name="options[parent]" value="2014-04-10-animating-sprites-from-a-texture-packer-image">
            <input type="hidden" name="fields[reply_to]" value="">
          </p>      
      </form>
    </div>

    <div id="post-submitted">
      <hr style="margin-bottom: 50px;" />
      <h3 class="comment-reply-title">Thank you</h3>
        <p>Your comment will be published once it has been approved.</p>
        <p><a class="comment-reply-link" href="https://github.com/veeneck/Battle-of-Brothers-Hugo/pulls">Click here</a> to see the pull request you generated.</p>
    </div>
</div>
     </div>
</div> 

    
    <footer class="clear">

  	<div class="bob">
  		<img src="/assets/battleofbrothers.png" />
  	</div>

  	<div style="display:table;">
		<div class="footer_content">
		  	<div class="corner cell">
		  		<p>&nbsp</p>
	  			<img class="ryanfoot" src="/assets/RyanShieldLarge.png" />
	  		</div>
			<div class="about_contest cell">
				<div class="inner">
					<h5>$25,000. 2 brothers. 1 year. 0 experience.</h5>
					<p>Armed with little to no game development experience, we're setting out to see who can make the best game. 
					In the spirit of learning and following a passion, we're each going to take one year and a $25,000 budget to see how far we can get. 
					It begins on April 7th, 2014. We'll be documenting the journey.</p>
					<p><a href="/">Learn More!</a></p>
				</div>
			</div>
			<div class="links cell">
				<div class="outer">
					<h5>Sir Ryan</h5>
					<p>
						<a class="ryan" href="/sirryan/">Blog</a> /&nbsp; 
						<a class="ryan" href="/sirryan/budget">Budget</a> /&nbsp; 
						<a class="ryan" href="/sirryan/timeline">Timeline</a><span class="social">C</span>
						<a class="white" href="https://twitter.com/veeneck">@veeneck</a></br>
						<a class="ryan" href="/sirryan/contact">Contact</a> /&nbsp; 
						<a class="ryan" href="/sirryan/about">About</a> /&nbsp; 
						<a class="ryan" href="/category/sirryan">Archive</a>
						<span class="social rss">V</span><a class="white" href="http://feeds.feedburner.com/BattleOfBrothers">RSS Feed</a></br>
					</p>
					<h5>Sir Chris</h5>
					<p>
					<a class="chris" href="/sirchris/">Blog</a> /&nbsp; 
					<a class="chris" href="/sirchris/budget">Budget</a> /&nbsp; 
					<a class="chris" href="/sirchris/timeline">Timeline</a>
					<span class="social">C</span><a class="white" href="https://twitter.com/codepaladin">@codepaladin</a></br>
					<a class="chris" href="/sirchris/contact">Contact</a> /&nbsp; 
					<a class="chris" href="/sirchris/about">About</a> /&nbsp; 
					<a class="chris" href="/category/sirchris">Archive</a><span class="social rss">V</span>
					<a class="white" href="http://feeds.feedburner.com/BattleOfBrothers">RSS Feed</a></br></p>
				</div>
			</div>
			<div class="corner cell">
				<p>&nbsp</p>
				<img class="chrisfoot" src="/assets/ChrisShieldLarge.png" />
			</div>
		</div>
	</div>
</footer>
  </body>
</html>